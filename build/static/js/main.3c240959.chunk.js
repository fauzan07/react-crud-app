(this["webpackJsonpreact-crud-app"]=this["webpackJsonpreact-crud-app"]||[]).push([[0],{39:function(e,t,a){e.exports=a.p+"static/media/loader.f90ea624.gif"},40:function(e,t,a){e.exports=a.p+"static/media/userimg.2cab1ed4.png"},47:function(e,t,a){e.exports=a(87)},52:function(e,t,a){},63:function(e,t,a){},68:function(e,t,a){},69:function(e,t,a){},86:function(e,t,a){},87:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),l=a(37),r=a.n(l),o=(a(52),a(14)),s=a(4),i=a(20),m=a.n(i);a(61),a(62);var u=m.a.initializeApp({apiKey:"AIzaSyAqabJPvk4ExIGTRDNkNWTrPjbK2KawvbU",authDomain:"react-crud-e02cf.firebaseapp.com",databaseURL:"https://react-crud-e02cf.firebaseio.com",projectId:"react-crud-e02cf",storageBucket:"react-crud-e02cf.appspot.com",messagingSenderId:"34461049850",appId:"1:34461049850:web:3267d8e9c328ae4e3e7a43"}),d=(m.a.auth,m.a.database(),u),p=a(38),b=a.n(p),E=a(3),f=a(39),h=a.n(f);var g=function(){return c.a.createElement("div",{className:"text-center spinner"},c.a.createElement("img",{src:h.a,alt:"loading"}))},v=c.a.createContext(),N=function(e){var t=e.children,a=Object(n.useState)(null),l=Object(E.a)(a,2),r=l[0],o=l[1],s=Object(n.useState)(!0),i=Object(E.a)(s,2),m=i[0],u=i[1];return Object(n.useEffect)((function(){d.auth().onAuthStateChanged((function(e){o(e),u(!1)}))}),[]),m?c.a.createElement(g,null):c.a.createElement(v.Provider,{value:{currentUser:r}},t)},j=(a(63),a(40)),O=a.n(j),y=Object(s.g)((function(){var e=Object(n.useContext)(v).currentUser;return c.a.createElement(c.a.Fragment,null,e?c.a.createElement("nav",{id:"sidebar"},c.a.createElement("div",{className:"custom-menu"},c.a.createElement("button",{type:"button",id:"sidebarCollapse",onClick:function(){b()("#sidebar").toggleClass("active")},className:"btn btn-primary d-md-none d-sm-block"})),c.a.createElement("div",{className:"img bg-wrap text-center py-4"},c.a.createElement("div",{className:"user-logo"},c.a.createElement("div",{className:"text-center Usericon mb-3"},c.a.createElement("img",{src:O.a,width:"140",alt:"icon"})),c.a.createElement("h1",{className:"text-center"},e.email))),c.a.createElement("ul",{className:"list-unstyled components mb-5"},c.a.createElement("li",null,c.a.createElement(o.b,{exact:!0,to:"/",className:"bg-dark"},c.a.createElement("span",{className:"fa fa-home mr-3"}),"Home")),c.a.createElement("li",null,c.a.createElement(o.b,{to:"./Post",className:"bg-dark"},c.a.createElement("span",{className:"fa fa-pencil mr-3"}),"Posts")),c.a.createElement("li",null,c.a.createElement("a",{className:"bg-dark",onClick:function(){return d.auth().signOut()}},c.a.createElement("span",{className:"fa fa-sign-out mr-3"})," Sign Out")))):c.a.createElement("div",null))}));var w=function(e){return c.a.createElement("div",{className:"wrapper d-flex align-items-stretch"},c.a.createElement(y,null),c.a.createElement("div",{className:"container py-5"},c.a.createElement("div",{className:"row justify-content-center"},c.a.createElement("div",{className:"col-md-10"},c.a.createElement("h1",{className:"text-center"},"Welcome to home"),c.a.createElement("div",{className:"text-center py-5"})))))},x=(a(68),a(42)),C=a(43),S=a(46),k=a(44),D=(a(69),function(){return c.a.createElement("div",{style:{width:"100%",height:"100%",backgroundColor:"rgba(0,0,0,0.5)",zIndex:100,position:"fixed",left:0,top:0}})}),P=function(e){Object(S.a)(a,e);var t=Object(k.a)(a);function a(){return Object(x.a)(this,a),t.apply(this,arguments)}return Object(C.a)(a,[{key:"render",value:function(){var e=this;return c.a.createElement("div",null,c.a.createElement(D,null),c.a.createElement("div",{className:"modalbody"},c.a.createElement("button",{className:"closebutton",onClick:function(){return e.props.close(e.props.modalCloseHandler)}},"X"),this.props.content))}}]),a}(n.Component),A=a(17),R=a.n(A);var U=function(e){var t,a=Object(n.useContext)(v).currentUser,l=Object(n.useState)(!1),r=Object(E.a)(l,2),o=r[0],s=r[1],i=Object(n.useState)(!1),m=Object(E.a)(i,2),u=m[0],d=m[1],p=Object(n.useState)(""),b=Object(E.a)(p,2),f=b[0],h=b[1],g=Object(n.useState)(""),N=Object(E.a)(g,2),j=N[0],O=N[1],w=Object(n.useState)(""),x=Object(E.a)(w,2),C=x[0],S=x[1],k=Object(n.useState)(!1),D=Object(E.a)(k,2),A=D[0],U=D[1],B=Object(n.useState)(!1),F=Object(E.a)(B,2),I=F[0],T=F[1],L=Object(n.useState)(""),W=Object(E.a)(L,2),K=W[0],V=W[1],z=Object(n.useState)(""),H=Object(E.a)(z,2),J=H[0],M=H[1],_=Object(n.useState)(""),q=Object(E.a)(_,2),G=q[0],X=q[1],Y=Object(n.useState)(""),$=Object(E.a)(Y,2),Q=$[0],Z=$[1],ee=Object(n.useState)(!1),te=Object(E.a)(ee,2),ae=te[0],ne=te[1],ce=Object(n.useState)(!1),le=Object(E.a)(ce,2),re=le[0],oe=le[1],se=Object(n.useState)(!1),ie=Object(E.a)(se,2),me=ie[0],ue=ie[1],de=Object(n.useState)(!1),pe=Object(E.a)(de,2),be=pe[0],Ee=pe[1],fe=Object(n.useState)(""),he=Object(E.a)(fe,2),ge=he[0],ve=he[1],Ne=c.a.useRef(),je=c.a.useRef(),Oe=c.a.useRef(),ye=a.uid,we=new Date,xe=null;(we.getMonth()<10||we.getDate()<10)&&(t="0"+(we.getMonth()+1),xe="0"+we.getDate());var Ce=we.getFullYear()+"-"+t+"-"+xe;Object(n.useEffect)((function(){ne(!1),oe(!1),ue(!1),Se(a.email)}),[ae,re,me,a]);var Se=function(e){R.a.get("https://react-crud-e02cf.firebaseio.com/post/".concat(ye,".json")).then((function(e){Z(e.data)})).catch((function(e){return console.log(e)}))},ke=o?c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"container py-4"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-md-12 text-left"},c.a.createElement("h3",null,be?"Edit Post":"Add Post"),I?c.a.createElement("p",{style:{color:"red"}},"Kindly complete the form before adding Column"):null,c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{htmlFor:"postTitle"},"Post Title"),c.a.createElement("input",{type:"text",id:"post_title",defaultValue:be?f:"",placeholder:"Enter a post title",ref:Ne,onChange:function(e){return V(e.target.value)},className:"form-control"})),c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{htmlFor:"postDescription"},"Post Description"),c.a.createElement("input",{type:"text",id:"post_description",defaultValue:be?j:"",placeholder:"Enter a post Description",ref:je,onChange:function(e){return M(e.target.value)},className:"form-control"})),c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{htmlFor:"schedule"},"Schedule Date"),c.a.createElement("input",{type:"date",id:"schedule_date",min:Ce,defaultValue:be?C:"",ref:Oe,onChange:function(e){return X(e.target.value)},className:"form-control"})),c.a.createElement("button",{disabled:A,className:"btn btn-info",onClick:function(e){0===Ne.current.value.length||0===je.current.value.length||0===Oe.current.value.length?(U(!1),T(!0)):(be?R.a.put("https://react-crud-e02cf.firebaseio.com/post/".concat(ye,"/").concat(ge,".json"),{postName:""===K?f:K,postDetail:""===J?j:J,postDate:""===G?C:G,user:a.email}).then((function(e){alert("post edited succesfully"),ue(!0)})).catch((function(e){return console.log("Error in editDetails"+e)})):R.a.post("https://react-crud-e02cf.firebaseio.com/post/".concat(ye,".json"),{postName:K,postDetail:J,postDate:G,user:a.email}).then((function(e){alert("post added succesfully"),ne(!0)})).catch((function(e){return console.log("Error"+e)})),s(!1),Ee(!1),V(""),M(""),X(""))}},be?"Edit Post":"Add Post"))))):null,De=u?c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"container my-4"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-lg-12"},c.a.createElement("div",{className:"d-flex justify-content-between"},c.a.createElement("h2",{className:"text-left"},"View Post"),c.a.createElement("button",{type:"button",id:"editBtn",className:"btn btn-info",onClick:function(e){d(!1),s(!0),Ee(!0)}},"Edit Post")),c.a.createElement("hr",null),c.a.createElement("div",{className:"text-left my-4"},c.a.createElement("h4",null,"Post Title"),c.a.createElement("h6",null,f)),c.a.createElement("div",{className:"text-left my-4"},c.a.createElement("h4",null,"Post Description"),c.a.createElement("h6",null,j)),c.a.createElement("div",{className:"text-left my-4"},c.a.createElement("h4",null,"Post Date"),c.a.createElement("h6",null,C)))))):null;return c.a.createElement("div",{className:"wrapper d-flex align-items-stretch"},c.a.createElement(y,null),c.a.createElement("div",{className:"container py-3 post-data"},c.a.createElement("h2",null,"Posts"),c.a.createElement("button",{className:"btn btn-dark mt-4",onClick:function(){return s(!0)}},"Add Post"),c.a.createElement("div",{className:"post-table my-5"},c.a.createElement("table",{className:"table table-striped table-hover table-dark"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",{scope:"col"},"Post Title"),c.a.createElement("th",{scope:"col"},"Post Description"),c.a.createElement("th",{scope:"col"},"Schedule date"),c.a.createElement("th",{scope:"col"},"Action"))),c.a.createElement("tbody",null,Q?Object.entries(Q).map((function(e){return c.a.createElement("tr",null,c.a.createElement("td",{key:e[0]},e[1].postName),c.a.createElement("td",null,e[1].postDetail),c.a.createElement("td",null,e[1].postDate),c.a.createElement("td",null,c.a.createElement("button",{id:e[0],value:e[1].postName,onClick:function(t){return function(e,t,a,n,c){d(!0),h(e),O(t),S(a),ve(n)}(e[1].postName,e[1].postDetail,e[1].postDate,e[0])},className:"btn btn-success btn-sm"},c.a.createElement("i",{className:"fa fa-eye","aria-hidden":"true"})),c.a.createElement("button",{type:"button",id:e[0],onClick:function(t){return function(e,t){window.confirm("Are you sure you want to delete the Post?")&&R.a.delete("https://react-crud-e02cf.firebaseio.com/post/".concat(ye,"/").concat(e,".json")).then((function(e){alert("post deleted succesfully"),oe(!0)})).catch((function(e){return console.log("Error"+e)}))}(e[0])},className:"btn btn-danger btn-sm ml-2"},c.a.createElement("i",{className:"fa fa-trash","aria-hidden":"true"}))))})):c.a.createElement("span",{className:"noTaskAdded p-5"},"No tasks added")))),c.a.createElement("br",null),o&&c.a.createElement(P,{content:ke,close:function(){s(!1),Ee(!1)}}),u&&c.a.createElement(P,{content:De,close:function(){d(!1)}})))};a(86);var B=Object(s.g)((function(e){var t=Object(n.useState)(""),a=Object(E.a)(t,2),l=a[0],r=a[1],o=Object(n.useState)(""),i=Object(E.a)(o,2),m=i[0],u=i[1],p=Object(n.useState)("Login"),b=Object(E.a)(p,2),f=b[0],h=b[1],g=Object(n.useState)(""),N=Object(E.a)(g,2),j=N[0],O=N[1],y=Object(n.useState)(!0),w=Object(E.a)(y,2),x=w[0],C=w[1],S=function(e){"reg"===e?(h("Register New User"),C(!1),O("")):(h("Login"),C(!0),O(""))};if(Object(n.useContext)(v).currentUser)return c.a.createElement(s.a,{to:"/"});var k=j?c.a.createElement("div",{className:"alert alert-danger",role:"alert"},j):null,D=x?c.a.createElement("button",{type:"submit",className:"loginBtn btn btn-success",onClick:function(e){e.preventDefault(),d.auth().signInWithEmailAndPassword(l,m).catch((function(e){O(e.message)}))}},"Enter"):c.a.createElement("button",{type:"submit",className:"loginBtn btn btn-success",onClick:function(e){e.preventDefault(),d.auth().createUserWithEmailAndPassword(l,m).catch((function(e){O(e.message)}))}},"Register"),P=x?c.a.createElement("button",{className:"loginBtn btn btn-primary float-right",onClick:function(){return S("reg")}},"Register"):c.a.createElement("button",{className:"loginBtn btn btn-primary float-right",onClick:function(){return S("login")}},"Login");return c.a.createElement("div",{className:"authentication"},c.a.createElement("div",{className:"container py-5"},c.a.createElement("div",{className:"row justify-content-center"},c.a.createElement("div",{className:"col-md-6 col-lg-6"},c.a.createElement("h1",{className:"title"},"REACT CRUD DASHBOARD"),c.a.createElement("div",{className:"mt-5 px-5 py-5 bg-white border shadow-lg rounded signup-box"},c.a.createElement("h2",{className:"text-center"},f),c.a.createElement("div",null,k),c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{htmlFor:"email"},"Email address"),c.a.createElement("input",{type:"text",className:"form-control",id:"email",name:"email",value:l,placeholder:"Enter a email",onChange:function(e){return r(e.target.value)}})),c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{htmlFor:"password"},"Password"),c.a.createElement("input",{type:"password",className:"form-control",id:"password",name:"password",value:m,placeholder:"Enter a password",onChange:function(e){return u(e.target.value)}})),D,P)))))})),F=a(45),I=function(e){var t=e.component,a=(e.children,Object(F.a)(e,["component","children"])),l=Object(n.useContext)(v).currentUser;return c.a.createElement(s.b,Object.assign({},a,{render:function(e){return l?c.a.createElement(t,e):c.a.createElement(s.a,{to:"/LoginRegister"})}}))};var T=function(){return c.a.createElement(N,null,c.a.createElement(o.a,null,c.a.createElement(s.d,null,c.a.createElement(I,{exact:!0,path:"/",component:w}),c.a.createElement(I,{path:"/Post",component:U}),c.a.createElement(s.b,{path:"/LoginRegister",component:B}),c.a.createElement(s.b,{exact:!0,path:"*",component:w}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(T,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[47,1,2]]]);
//# sourceMappingURL=main.3c240959.chunk.js.map